<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./../style/style.css" />
    <title>Face Recognition App</title>
</head>
<body class="app">
    <h2></h2>

    <div class="content">
        <div class="cam-container">
            <p id="date">Senin, 26 Februari 2023</p>
            <div class="video-container">
                <video id="cam" width="320" height="240" playsinline autoplay muted></video>
                <canvas id="detectionCanvas" width="320" height="240"></canvas>
            </div>
            <button onclick="enterRoom()" class="btn btnGreen">Masuk</button>
        </div>

        <div class="att-container">
            <p>Daftar Kehadiran</p>
            <div>
                <ul id="att-list"></ul>
            </div>
            <button onclick="exitRoom()" class="btn btnRed">Keluar</button>
        </div>
    </div>

    <script>
        window.onload = function() {
            try {
                const day = ['Senin', 'Selasa', 'Rabu', 'Kamis', "Jum'at", 'Sabtu', 'Minggu']
                const month = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember']

                var url_string = (window.location.href)
                var url = new URL(url_string)
                var rname = url.searchParams.get('name')
                
                const element = document.querySelector('h2').innerText = rname //+ ' (Sample Room)'

                const date = new Date()
                document.getElementById('date').innerText = day[date.getDay() - 1] + ', ' + date.getDate() + ' ' + month[date.getMonth() - 1] + ' ' + date.getFullYear()
            } catch(err) {
                console.log(err)
            }
        }
    </script>
    <script defer src="./../script/face-api.js"></script>
    <script defer src="./../script/app-script.js"></script>
</body>
</html>